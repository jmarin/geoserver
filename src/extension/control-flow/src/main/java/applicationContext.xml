<?xml version="1.0" encoding="UTF-8"?>
<!-- 
 Copyright (c) 2012 TOPP - www.openplans.org. All rights reserved.
 This code is licensed under the GPL 2.0 license, available at the root
 application directory.
 -->
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

    <!-- The control flow callback -->
    <bean id="controlFlowCallback" class="org.geoserver.flow.ControlFlowCallback"/>


    <!-- IP blacklist filter -->
    <bean id="ipBlacklistFilter" class="org.geoserver.flow.controller.IpBlacklistFilter" />


    <!-- REST Mappings -->

    <bean id="flowConfigFinder" class="org.geoserver.flow.rest.FlowConfigFinder"/>

    <bean id="controlFlowRestMappings" class="org.geoserver.rest.RESTMapping">
      <property name="routes">
       <map>
        <entry>
          <key><value>/controlflow/config</value></key>
          <value>flowConfigFinder</value>
        </entry>
        <entry>
          <key><value>/controlflow/config.{format}</value></key>
          <value>flowConfigFinder</value>
        </entry>
        </map>
      </property>
    </bean>
</beans>
